<!-- Begin Certifications -->
    <header class="section-header">
            <h2>Certifications</h2>
        </header>
        {% for certification in site.data.certifications %}
        <div data-iframe-width="150" data-iframe-height="270" data-share-badge-id={{ certification }} data-share-badge-host="https://www.credly.com"></div><script type="text/javascript" async src="//cdn.credly.com/assets/utilities/embed.js"></script>
        {% endfor %}

        <!-- this script won't work until I move it to a lambda to accomodate for the credly cors -->
<script type="text/javascript">

    fetch('https://www.credly.com/users/luis-cerezo/badges.json')
      .then(response => response.json())
      .then(data => {
        const divContainer = document.getElementById('id-container');
    
      for (const key in data.data) {
        const item = data.data[key];
        if (typeof item === 'object' && !Array.isArray(item) && item.hasOwnProperty('id')) {
          const id = item.id;
    
          // Create the div with data attributes and script
          const div = document.createElement('div');
          div.setAttribute('data-iframe-width', '150');
          div.setAttribute('data-iframe-height', '270');
          div.setAttribute('data-share-badge-id', id);
          div.setAttribute('data-share-badge-host', 'https://www.credly.com');
    
          const script = document.createElement('script');
          script.type = 'text/javascript';
          script.async = true;
          script.src = '//cdn.credly.com/assets/utilities/embed.js';
    
          div.appendChild(script);
          divContainer.appendChild(div);
        }
      }
    })
    .catch(error => console.error('Error fetching or parsing JSON:', error));
       
        </script>
    <div id="id-container"></div>

    <!-- end certification -->